---
export interface Props {
	headings: Array<{
		depth: number;
		slug: string;
		text: string;
	}>;
}

const { headings } = Astro.props;

// Filter to only show h2 and h3 headings
const tocHeadings = headings.filter(({ depth }) => depth > 1 && depth < 4);
---

{tocHeadings.length > 0 && (
	<nav class="toc bg-gray-50 dark:bg-gray-800 rounded-lg p-6 mb-8">
		<h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
			Table of Contents
		</h2>
		<ul class="space-y-2">
			{tocHeadings.map((heading) => (
				<li>
					<a
						href={`#${heading.slug}`}
						class={`block text-sm transition-colors hover:text-blue-600 dark:hover:text-blue-400 ${
							heading.depth === 2 
								? 'text-gray-700 dark:text-gray-300 font-medium' 
								: 'text-gray-600 dark:text-gray-400 ml-4'
						}`}
					>
						{heading.text}
					</a>
				</li>
			))}
		</ul>
	</nav>
)} 