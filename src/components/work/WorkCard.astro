---
import type { CollectionEntry } from 'astro:content';
import { makeAnchor } from '../../utils/work';
import WorkCardHeader from './WorkCardHeader.astro';
import WorkCardHighlights from './WorkCardHighlights.astro';
import WorkCardTechnologies from './WorkCardTechnologies.astro';

interface Props {
  entry: CollectionEntry<'work'>;
  index: number;
}

const { entry, index } = Astro.props;
---

<article 
  class="timeline-tracker-card bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 border border-gray-200 dark:border-gray-700 transition-all duration-300"
  data-timeline-index={index}
  data-timeline-type={entry.data.type}
  data-timeline-anchor={makeAnchor(entry)}
  id={`entry-${index}`}
>
  <!-- Header -->
  <WorkCardHeader entry={entry} />
  
  <!-- Description -->
  <div class="mb-8">
    <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
      {entry.data.description}
    </p>
  </div>
  
  <!-- Highlights -->
  <WorkCardHighlights entry={entry} />
  
  <!-- Technologies -->
  <WorkCardTechnologies entry={entry} />
</article> 